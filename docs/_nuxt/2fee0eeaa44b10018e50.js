(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{408:function(t,o,n){"use strict";n.r(o);n(38),n(39),n(40);var e=n(76),r=n.n(e),l={data:function(){return{fileNoMap:{},title:""}},watch:{$route:function(){this.init()}},created:function(){this.init()},methods:{init:function(){this.title="";var t=this.$route.query.mapNo?this.$route.query.mapNo:null,o=this.$route.query.edificioIL?this.$route.query.edificioIL:null;null===t&&null===o&&(t="20");var n=null;null!=o&&(this.title=o,o.split("[").length>1&&(n=o.split("[")[1].split("]")[0])),this.get_photo(t,n,o)},get_photo:function(t,o,n){var e=this;r.a.get("https://nakamura196.github.io/piranesi/photo/iiif/top.json").then((function(r){for(var data={},l={},h=r.data.manifests,i=0;i<h.length;i++){for(var c=h[i],f=c.metadata,map={},v=0;v<f.length;v++){var m=f[v],label=m.label,_=m.value;l[label]||(l[label]={}),l[label][_]||(l[label][_]=[]),l[label][_].push(c["@id"]),map[label]=_}data[c["@id"]]=map,map.thumbnail=c.thumbnail,map.manifest=c["@id"]}var d={},y=[];if(l.mapNo[t])y=l.mapNo[t];else{var x=l.Edificio_all;for(var w in x)if(w.includes("["+o+"]"))for(var C=x[w],k=0;k<C.length;k++)y.push(C[k])}for(var N=0;N<y.length;N++){var V=data[y[N]];""===e.title&&(e.title=V.Edificio_all);var j=void 0;d[j=V.file_n1?V.file_n1:V.photo_no]&&null!=d[j].photo&&(j=V.photo_no),d[j]||(d[j]={photo:null,print:null}),d[j].photo={thumbnail:V.thumbnail,manifest:V.manifest,photo_no:V.photo_no}}e.get_print(t,o,n,d)}))},get_print:function(t,o,n,e){var l=this;r.a.get("https://raw.githubusercontent.com/nakamura196/piranesi/master/docs/print/iiif/top.json").then((function(r){for(var data={},h={},c=r.data.manifests,i=0;i<c.length;i++){for(var f=c[i],v=f.metadata,map={},m=0;m<v.length;m++){var _=v[m],label=_.label,d=_.value;h[label]||(h[label]={}),h[label][d]||(h[label][d]=[]),h[label][d].push(f["@id"]),map[label]=d}data[f["@id"]]=map,map.thumbnail=f.thumbnail,map.manifest=f["@id"]}var y=[];if(h.mapNo[t])y=h.mapNo[t];else if(null!=o){var x=h.Edificio_all;for(var w in x)if(w.includes("["+o+"]"))for(var C=x[w],k=0;k<C.length;k++)y.push(C[k])}else h.edificioIL[n]&&(y=h.edificioIL[n]);for(var N=0;N<y.length;N++){var V=data[y[N]];if(V.file_no){var j=V.file_no;e[j]&&null!=e[j].print&&(j=V.image_ID),e[j]||(e[j]={photo:null,print:null}),e[j].print={thumbnail:V.thumbnail,manifest:V.manifest,title:V.title,file_no:V.file_no}}}l.fileNoMap=e}))},get_url:function(t){var o=[{manifest:t.photo.manifest},{manifest:t.print.manifest}];return"https://tei-eaj.github.io/parallel_text_viewer/app/mirador/?params="+JSON.stringify(o)}}},h=n(44),c=n(64),f=n.n(c),v=n(146),m=n(319),_=n(318),d=n(331),y=n(311),x=n(114),w=n(332),component=Object(h.a)(l,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[n("v-container",[n("h2",{staticClass:"my-5"},[t._v(t._s(t.title))]),t._v(" "),n("v-row",[n("v-col",[n("p",{staticClass:"my-5"},[t._v("Prints and photos from the same angle ↓ :")]),t._v(" "),n("div",{staticClass:"text-center",staticStyle:{height:"800px",overflow:"scroll"}},[t._l(t.fileNoMap,(function(o,e){return[o.photo&&o.print?[n("v-card",{key:e,staticClass:"my-5"},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("router-link",{attrs:{to:{path:"/photo3",query:{photo_no:o.photo.photo_no}}}},[n("v-img",{attrs:{contain:!0,src:o.photo.thumbnail,"max-height":"200px"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("router-link",{attrs:{to:{path:"/detail_cdml_j",query:{file_no:o.print.file_no}}}},[n("v-img",{attrs:{contain:!0,src:o.print.thumbnail,"max-height":"200px"}})],1)],1)],1),t._v(" "),n("v-btn",{attrs:{href:t.get_url(o),color:"primary",target:"_blank"}},[t._v("Miradorで比較する")])],1)],1)]:t._e()]}))],2)]),t._v(" "),n("v-col",[n("p",{staticClass:"my-5"},[t._v("Other prints:")]),t._v(" "),n("v-card",{staticClass:"my-5",staticStyle:{height:"400px",overflow:"scroll"}},[n("v-card-text",[n("v-row",[t._l(t.fileNoMap,(function(o,e){return[!o.photo&&o.print?[n("v-col",{key:e,attrs:{cols:"4"}},[n("router-link",{attrs:{to:{path:"/detail_cdml_j",query:{file_no:o.print.file_no}}}},[n("v-img",{attrs:{contain:!0,src:o.print.thumbnail,"max-height":"200px"}})],1),t._v(" "),n("p",{staticClass:"mt-2"},[t._v(t._s(o.print.title))])],1)]:t._e()]}))],2)],1)],1),t._v(" "),n("p",{staticClass:"my-5"},[t._v("Photos:")]),t._v(" "),n("v-card",{staticClass:"my-5",staticStyle:{height:"400px",overflow:"scroll"}},[n("v-card-text",[n("v-row",[t._l(t.fileNoMap,(function(o,e){return[o.photo&&!o.print?[n("v-col",{key:e,attrs:{cols:"4"}},[n("router-link",{attrs:{to:{path:"/photo3",query:{photo_no:o.photo.photo_no}}}},[n("v-img",{attrs:{contain:!0,src:o.photo.thumbnail,"max-height":"200px"}})],1)],1)]:t._e()]}))],2)],1)],1)],1)],1),t._v(" "),n("br")],1)],1)}),[],!1,null,null,null);o.default=component.exports;f()(component,{VBtn:v.a,VCard:m.a,VCardText:_.a,VCol:d.a,VContainer:y.a,VImg:x.a,VRow:w.a})}}]);